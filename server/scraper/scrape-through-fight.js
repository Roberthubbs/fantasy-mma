let fightsOne = [{ "title": "", "link": "/" }, { "title": "EVENTS & FIGHTS", "link": "/statistics/events/" }, { "title": "FIGHTERS", "link": "/statistics/fighters" }, { "title": "STAT LEADERS", "link": "http://statleaders.ufc.com" }, { "title": "Kamaru Usman", "link": "http://ufcstats.com/fighter-details/f1b2aa7853d1ed6e" }, { "title": "Jorge Masvidal", "link": "http://ufcstats.com/fighter-details/47b9e0e7703a4868" }, { "title": "View\nMatchup", "link": null }, { "title": "Zhang Weili", "link": "http://ufcstats.com/fighter-details/1ebe20ebbfa15e29" }, { "title": "Rose Namajunas", "link": "http://ufcstats.com/fighter-details/47b63240018d5d86" }, { "title": "View\nMatchup", "link": null }, { "title": "Valentina Shevchenko", "link": "http://ufcstats.com/fighter-details/132deb59abae64b1" }, { "title": "Jessica Andrade", "link": "http://ufcstats.com/fighter-details/6a1901c62ab3870f" }, { "title": "View\nMatchup", "link": null }, { "title": "Uriah Hall", "link": "http://ufcstats.com/fighter-details/65578a75fa7900e3" }, { "title": "Chris Weidman", "link": "http://ufcstats.com/fighter-details/3a8176e15b9887c1" }, { "title": "View\nMatchup", "link": null }, { "title": "Anthony Smith", "link": "http://ufcstats.com/fighter-details/d4c9dcd330403612" }, { "title": "Jimmy Crute", "link": "http://ufcstats.com/fighter-details/70e1f8a821b72c8b" }, { "title": "View\nMatchup", "link": null }, { "title": "Alex Oliveira", "link": "http://ufcstats.com/fighter-details/57b10fca4f9c9a7a" }, { "title": "Randy Brown", "link": "http://ufcstats.com/fighter-details/c6aee362c7a7d482" }, { "title": "View\nMatchup", "link": null }, { "title": "Dwight Grant", "link": "http://ufcstats.com/fighter-details/8be158ca1e5ea6a0" }, { "title": "Stefan Sekulic", "link": "http://ufcstats.com/fighter-details/348dff4e03bd18c6" }, { "title": "View\nMatchup", "link": null }, { "title": "Karl Roberson", "link": "http://ufcstats.com/fighter-details/37d5b176d438d2a5" }, { "title": "Brendan Allen", "link": "http://ufcstats.com/fighter-details/2f181c0467965b98" }, { "title": "View\nMatchup", "link": null }, { "title": "Pat Sabatini", "link": "http://ufcstats.com/fighter-details/b8bbdeff718dbb7d" }, { "title": "Tristan Connelly", "link": "http://ufcstats.com/fighter-details/2ebfbe72ed703925" }, { "title": "View\nMatchup", "link": null }, { "title": "Danaa Batgerel", "link": "http://ufcstats.com/fighter-details/3b0a516d2921e0d6" }, { "title": "Kevin Natividad", "link": "http://ufcstats.com/fighter-details/0c258d1d8e16e5f1" }, { "title": "View\nMatchup", "link": null }, { "title": "Kazula Vargas", "link": "http://ufcstats.com/fighter-details/ec18eb918121787c" }, { "title": "Rong Zhu", "link": "http://ufcstats.com/fighter-details/a13d755965a4ec9f" }, { "title": "View\nMatchup", "link": null }, { "title": "Aori Qileng", "link": "http://ufcstats.com/fighter-details/7d420039bbfe7c1a" }, { "title": "Jeff Molina", "link": "http://ufcstats.com/fighter-details/008ea710276c9606" }, { "title": "View\nMatchup", "link": null }, { "title": "Na Liang", "link": "http://ufcstats.com/fighter-details/ec0dcceace7d25a3" }, { "title": "Ariane Carnelossi", "link": "http://ufcstats.com/fighter-details/c0d5c0c95c59050b" }, { "title": "View\nMatchup", "link": null }, { "title": "Events & Fights", "link": "/statistics/events/" }, { "title": "Fighters", "link": "/statistics/fighters" }, { "title": "Stat Leaders", "link": "http://statleaders.ufc.com" }, { "title": "", "link": "/" }, { "title": "Terms of Use", "link": "https://ufc.com/terms" }, { "title": "Privacy Policy", "link": "https://ufc.com/privacy-policy" }];

let fightsTwo = [{ "title": "", "link": "/" }, { "title": "EVENTS & FIGHTS", "link": "/statistics/events/" }, { "title": "FIGHTERS", "link": "/statistics/fighters" }, { "title": "STAT LEADERS", "link": "http://statleaders.ufc.com" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/f67aa0b16e16a9ea" }, { "title": "Robert Whittaker", "link": "http://ufcstats.com/fighter-details/e1147d3d2dabe1ce" }, { "title": "Kelvin Gastelum", "link": "http://ufcstats.com/fighter-details/8c0580d4fff106c1" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/f2c82f027201ba21" }, { "title": "Andrei Arlovski", "link": "http://ufcstats.com/fighter-details/3738e68d2261e60f" }, { "title": "Chase Sherman", "link": "http://ufcstats.com/fighter-details/01b352b6a9074d5c" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/a850ba762f3c5334" }, { "title": "Jacob Malkoun", "link": "http://ufcstats.com/fighter-details/d4270315cbcf2569" }, { "title": "Abdul Razak Alhassan", "link": "http://ufcstats.com/fighter-details/eae431e70064e046" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/0b2c3c4306620d6d" }, { "title": "Tracy Cortez", "link": "http://ufcstats.com/fighter-details/68d4a891e5cf2029" }, { "title": "Justine Kish", "link": "http://ufcstats.com/fighter-details/928ae2e5b5f7a9ec" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/a33ecd2c88154890" }, { "title": "Luis Pena", "link": "http://ufcstats.com/fighter-details/2844b047183a1adb" }, { "title": "Alexander Munoz", "link": "http://ufcstats.com/fighter-details/f8f1ec513bcfef43" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/fdfe4e7cb2d0b665" }, { "title": "Alexandr Romanov", "link": "http://ufcstats.com/fighter-details/c0badf3243907e59" }, { "title": "Juan Espino", "link": "http://ufcstats.com/fighter-details/ccf5dc41417e9daf" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/25d4376e00b16510" }, { "title": "Jessica Penne", "link": "http://ufcstats.com/fighter-details/c742287ed86a09bc" }, { "title": "Loopy Godinez", "link": "http://ufcstats.com/fighter-details/8e5d953bdb9ae5e7" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/627c0a50cff30405" }, { "title": "Gerald Meerschaert", "link": "http://ufcstats.com/fighter-details/6ac9bc2953c47345" }, { "title": "Bartosz Fabinski", "link": "http://ufcstats.com/fighter-details/e17ac6410c8377f4" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/8d634c9240f161dd" }, { "title": "Austin Hubbard", "link": "http://ufcstats.com/fighter-details/d2cd7a69cc55e7ed" }, { "title": "Dakota Bush", "link": "http://ufcstats.com/fighter-details/3033c1c080672475" }, { "title": "WIN", "link": "http://ufcstats.com/fight-details/24ff385ca78c80d3" }, { "title": "Tony Gravely", "link": "http://ufcstats.com/fighter-details/601964f9654f911a" }, { "title": "Anthony Birchak", "link": "http://ufcstats.com/fighter-details/c5a126ace82a6025" }, { "title": "Events & Fights", "link": "/statistics/events/" }, { "title": "Fighters", "link": "/statistics/fighters" }, { "title": "Stat Leaders", "link": "http://statleaders.ufc.com" }, { "title": "", "link": "/" }, { "title": "Terms of Use", "link": "https://ufc.com/terms" }, { "title": "Privacy Policy", "link": "https://ufc.com/privacy-policy" }];
let allFightResults = [];
 
    (async (url) => {
        //const html = await axios.get('http://ufcstats.com/event-details/4a35913bd9aa4161');
        const html = await axios.get(url);

        const $ = await cheerio.load(html.data);
        let data = []
        $("body").each((i, elem) => {

            // data.push({
            //     table: $(elem).find("table")
            // })
            const section = $(elem).find("section");
            const table = $(section).find("table");
            const tbody = $(table).find("tbody");
            const rows = $(tbody).find("tr");
            rows.each((i, row) => {
                const td = $(row).find("td");
                const pd = $(td).find("p").text();
                let pd2 = pd.replace(/\n|\r/g, "");
                pd2 = pd2.replace(/\s+/g, ' ').trim().split(' ');
                data.push([pd2]);
            })
        })
        let mt = data[0][0];
        // [
        //     'Robert', 'Whittaker', 'Kelvin',
        //     'Gastelum', '0', '0',
        //     '150', 'of', '284',
        //     '62', 'of', '209',
        //     '52%', '29%', '169',
        //     'of', '303', '70',
        //     'of', '218', '4',
        //     'of', '7', '1',
        //     'of', '5', '57%',
        //     '20%', '0', '0',
        //     '0', '0', '4:19',
        //     '0:26'
        // ]

        let statsObjOne = {
            fighterFirst: mt[0],
            fighterLast: mt[1],
            opponentFirst: mt[2],
            opponentLast: mt[3],
            KD: mt[4],
            opponentKd: mt[5],
            sigLand: mt[6],
            sigAttempt: mt[8],
            opponentSigLanded: mt[9],
            oppenentSigAttempted: mt[11],
            tdLanded: mt[20],
            tdAttempted: mt[22],
            opponentTdLanded: mt[23],
            opponentTdAttempted: mt[25],
            ctrlTime: mt[32],
            oppCtrTime: mt[33],
        };
        let statsTwoObj = {
            fighterFirst: mt[2],
            fighterLast: mt[3],
            opponentFirst: mt[0],
            opponentLast: mt[1],
            KD: mt[5],
            opponentKd: mt[4],
            sigLand: mt[9],
            sigAttempt: mt[11],
            opponentSigLanded: mt[6],
            oppenentSigAttempted: mt[8],
            tdLanded: mt[23],
            tdAttempted: mt[25],
            opponentTdLanded: mt[20],
            opponentTdAttempted: mt[22],
            ctrlTime: mt[33],
            oppCtrTime: mt[32],
        }
        allFightResults.push([statsObjOne, statsTwoObj]);
        return fight;
    })();


    fs.writeFile("allFightResults.json", JSON.stringify(browserArr), function (err) {
        if (err) throw err;
        console.log("Saved!");
    });